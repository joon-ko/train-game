[gd_scene load_steps=9 format=4 uid="uid://rxs4kcbrnreu"]

[ext_resource type="TileSet" uid="uid://4n3wig1qeiv0" path="res://assets/CoreTileSet.tres" id="1_24d08"]
[ext_resource type="Script" uid="uid://cd8hls8wvb7nx" path="res://scripts/Root.cs" id="1_ont70"]
[ext_resource type="Script" uid="uid://jrra8pouey03" path="res://scripts/GridManager.cs" id="2_24d08"]
[ext_resource type="PackedScene" uid="uid://b5clb7560do2o" path="res://scenes/Train.tscn" id="4_mvcll"]
[ext_resource type="Theme" uid="uid://d0mlg6ed0r4ce" path="res://assets/CoreTheme.tres" id="6_5npxh"]
[ext_resource type="Texture2D" uid="uid://cxbw8a3mh8a8u" path="res://assets/png/Compass.png" id="7_0x7h0"]
[ext_resource type="Script" uid="uid://cgiobuyldj5je" path="res://scripts/TrainPathVisualizer.cs" id="7_c618l"]
[ext_resource type="PackedScene" uid="uid://bh24qg80ltx03" path="res://scenes/Platform.tscn" id="8_3wcpb"]

[node name="Root" type="Control"]
y_sort_enabled = true
layout_mode = 3
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
script = ExtResource("1_ont70")

[node name="Background" type="ColorRect" parent="."]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
color = Color(0, 0, 0, 1)

[node name="GridManager" type="Node2D" parent="."]
script = ExtResource("2_24d08")

[node name="Ground" type="TileMapLayer" parent="GridManager"]
y_sort_enabled = true
tile_map_data = PackedByteArray("AAAMAPn/AAAAAAMAAAAMAPr/AAAAAAMAAAAMAPv/AAAAAAMAAAAMAPz/AAAAAAMAAAAMAP3/AAAAAAMAAAAMAP7/AAAAAAMAAAAMAP//AAAAAAMAAAAMAAAAAAAAAAMAAAAMAAEAAAAAAAMAAAAMAAIAAAAAAAMAAAAMAAMAAAAAAAMAAAAMAAQAAAAAAAMAAAAMAAUAAAAAAAMAAAAMAAYAAAAAAAMAAAAMAAcAAAAAAAMAAAAMAAgAAAAAAAMAAAAMAAkAAAAAAAMAAAANAPn/AAAAAAMAAAANAPr/AAAAAAMAAAANAAgAAAAAAAMAAAANAAkAAAAAAAMAAAAOAPn/AAAAAAMAAAAOAPr/AAAAAAMAAAAOAAgAAAAAAAMAAAAOAAkAAAAAAAMAAAAPAPn/AAAAAAMAAAAPAPr/AAAAAAMAAAAPAAgAAAAAAAMAAAAPAAkAAAAAAAMAAAAQAPn/AAAAAAMAAAAQAAgAAAAAAAMAAAAQAAkAAAAAAAMAAAARAPn/AAAAAAMAAAARAAgAAAAAAAMAAAARAAkAAAAAAAMAAAASAPn/AAAAAAMAAAASAAgAAAAAAAMAAAASAAkAAAAAAAMAAAATAPn/AAAAAAMAAAATAAgAAAAAAAMAAAATAAkAAAAAAAMAAAAUAPn/AAAAAAMAAAAUAAgAAAAAAAMAAAAUAAkAAAAAAAMAAAAVAPn/AAAAAAMAAAAVAAgAAAAAAAMAAAAVAAkAAAAAAAMAAAAWAPn/AAAAAAMAAAAWAAgAAAAAAAMAAAAWAAkAAAAAAAMAAAAXAPn/AAAAAAMAAAAXAAgAAAAAAAMAAAAXAAkAAAAAAAMAAAAYAPn/AAAAAAMAAAAYAPr/AAAAAAMAAAAYAAgAAAAAAAMAAAAYAAkAAAAAAAMAAAAZAPn/AAAAAAMAAAAZAPr/AAAAAAMAAAAZAAgAAAAAAAMAAAAZAAkAAAAAAAMAAAAaAPn/AAAAAAMAAAAaAPr/AAAAAAMAAAAaAAgAAAAAAAUAAAAaAAkAAAAAAAUAAAAbAPn/AAAAAAMAAAAbAPr/AAAAAAMAAAAcAPn/AAAAAAMAAAAcAPr/AAAAAAMAAAALAPn/AAAAAAMAAAALAPr/AAAAAAMAAAALAPv/AAAAAAMAAAALAPz/AAAAAAMAAAALAP3/AAAAAAMAAAALAP7/AAAAAAMAAAALAP//AAAAAAMAAAALAAAAAAAAAAMAAAALAAEAAAAAAAMAAAALAAIAAAAAAAMAAAALAAMAAAAAAAMAAAALAAQAAAAAAAMAAAALAAUAAAAAAAMAAAALAAYAAAAAAAMAAAALAAcAAAAAAAMAAAALAAgAAAAAAAMAAAALAAkAAAAAAAMAAAAMAPj/AAAAAAMAAAANAPj/AAAAAAMAAAAOAPj/AAAAAAMAAAAPAPj/AAAAAAMAAAAQAPj/AAAAAAMAAAARAPj/AAAAAAMAAAASAPj/AAAAAAMAAAATAPj/AAAAAAMAAAAUAPj/AAAAAAMAAAAVAPj/AAAAAAMAAAAWAPj/AAAAAAMAAAAXAPj/AAAAAAMAAAAYAPj/AAAAAAMAAAAZAPj/AAAAAAMAAAAaAPj/AAAAAAMAAAAbAPj/AAAAAAMAAAAcAPj/AAAAAAMAAAALAPj/AAAAAAMAAAAbAPv/AAAAAAMAAAAbAPz/AAAAAAMAAAAbAP3/AAAAAAMAAAAbAP7/AAAAAAMAAAAbAP//AAAAAAMAAAAbAAAAAAAAAAMAAAAbAAEAAAAAAAMAAAAbAAIAAAAAAAMAAAAbAAMAAAAAAAMAAAAbAAQAAAAAAAMAAAAbAAUAAAAAAAMAAAAbAAYAAAAAAAMAAAAbAAcAAAAAAAMAAAAbAAgAAAAAAAMAAAAbAAkAAAAAAAMAAAAcAPv/AAAAAAMAAAAcAPz/AAAAAAMAAAAcAP3/AAAAAAMAAAAcAP7/AAAAAAMAAAAcAP//AAAAAAMAAAAcAAAAAAAAAAMAAAAcAAEAAAAAAAMAAAAcAAIAAAAAAAMAAAAcAAMAAAAAAAMAAAAcAAQAAAAAAAMAAAAcAAUAAAAAAAMAAAAcAAYAAAAAAAMAAAAcAAcAAAAAAAMAAAAcAAgAAAAAAAMAAAAcAAkAAAAAAAMAAAAQAPr/AAAAAAMAAAARAPr/AAAAAAMAAAASAPr/AAAAAAMAAAATAPr/AAAAAAMAAAAUAPr/AAAAAAMAAAAVAPr/AAAAAAMAAAAWAPr/AAAAAAMAAAAXAPr/AAAAAAMAAAANAPv/AAAAAAMAAAAOAPv/AAAAAAMAAAAPAPv/AAAAAAMAAAAQAPv/AAAEAAUAAAARAPv/AAABAAUAAAASAPv/AAABAAUAAAATAPv/AAABAAUAAAAUAPv/AAABAAUAAAAVAPv/AAABAAUAAAAWAPv/AAABAAUAAAAXAPv/AAACAAUAAAAYAPv/AAAAAAMAAAAZAPv/AAAAAAMAAAAaAPv/AAAAAAMAAAANAPz/AAAAAAMAAAANAP3/AAAAAAMAAAANAP7/AAAEAAUAAAANAP//AAAAAAUAAAANAAAAAAAAAAUAAAANAAEAAAAAAAUAAAANAAIAAAAAAAUAAAANAAMAAAADAAQAAAANAAQAAAAAAAUAAAANAAYAAAADAAUAAAAOAPz/AAAAAAMAAAAOAP3/AAAAAAMAAAAOAP7/AAABAAUAAAAOAP//AAAAAAMAAAAOAAAAAAAAAAMAAAAOAAEAAAAAAAMAAAAOAAIAAAAAAAMAAAAOAAMAAAABAAUAAAAOAAQAAAAAAAMAAAAOAAYAAAABAAUAAAAPAPz/AAAAAAMAAAAPAP3/AAAAAAMAAAAPAP7/AAABAAUAAAAPAP//AAAAAAMAAAAPAAAAAAAAAAMAAAAPAAEAAAAAAAMAAAAPAAIAAAAAAAMAAAAPAAMAAAABAAUAAAAPAAQAAAAAAAMAAAAPAAYAAAABAAUAAAAQAPz/AAAAAAUAAAAQAP3/AAAAAAUAAAAQAP7/AAAFAAUAAAAQAP//AAAAAAMAAAAQAAAAAAAAAAMAAAAQAAEAAAAAAAMAAAAQAAIAAAAAAAMAAAAQAAMAAAABAAUAAAAQAAQAAAAAAAMAAAAQAAYAAAABAAUAAAARAPz/AAAAAAMAAAARAP3/AAAAAAMAAAARAP7/AAAAAAMAAAARAP//AAAAAAMAAAARAAAAAAAAAAMAAAARAAEAAAAAAAMAAAARAAIAAAAAAAMAAAARAAMAAAABAAUAAAARAAQAAAAAAAMAAAARAAYAAAABAAUAAAASAPz/AAAAAAMAAAASAP3/AAAAAAMAAAASAP7/AAAAAAMAAAASAP//AAAAAAMAAAASAAQAAAAAAAMAAAASAAYAAAABAAUAAAATAPz/AAAAAAMAAAATAP3/AAAAAAMAAAATAP7/AAAAAAMAAAATAP//AAAAAAMAAAATAAAAAAAEAAUAAAATAAEAAAAAAAUAAAATAAIAAAAAAAUAAAATAAMAAAAFAAUAAAATAAQAAAAAAAMAAAATAAYAAAABAAUAAAAUAPz/AAAAAAMAAAAUAP3/AAAAAAMAAAAUAP7/AAAAAAMAAAAUAP//AAAAAAMAAAAUAAAAAAABAAUAAAAUAAEAAAAAAAMAAAAUAAIAAAAAAAMAAAAUAAMAAAAAAAMAAAAUAAQAAAAAAAMAAAAUAAUAAAAAAAMAAAAUAAYAAAABAAUAAAAVAPz/AAAAAAMAAAAVAP3/AAAAAAMAAAAVAP7/AAAAAAMAAAAVAP//AAAAAAMAAAAVAAAAAAABAAUAAAAVAAEAAAAAAAMAAAAVAAIAAAAAAAMAAAAVAAMAAAAAAAMAAAAVAAQAAAAAAAMAAAAVAAUAAAAAAAMAAAAVAAYAAAABAAUAAAAWAPz/AAAAAAMAAAAWAP3/AAAAAAMAAAAWAP7/AAAAAAMAAAAWAP//AAAAAAMAAAAWAAAAAAABAAUAAAAWAAEAAAAAAAMAAAAWAAIAAAAAAAMAAAAWAAMAAAAAAAMAAAAWAAQAAAAAAAMAAAAWAAUAAAAAAAMAAAAWAAYAAAABAAUAAAAXAPz/AAAAAAUAAAAXAP3/AAAAAAUAAAAXAP7/AAAAAAUAAAAXAP//AAAAAAUAAAAXAAAAAAADAAMAAAAXAAEAAAAAAAMAAAAXAAIAAAAAAAMAAAAXAAMAAAAAAAMAAAAXAAQAAAAAAAMAAAAXAAUAAAAAAAMAAAAXAAYAAAABAAUAAAAYAPz/AAAAAAMAAAAYAP3/AAAAAAMAAAAYAP7/AAAAAAMAAAAYAP//AAAAAAMAAAAYAAAAAAABAAUAAAAYAAEAAAAAAAMAAAAYAAIAAAAAAAMAAAAYAAMAAAAAAAMAAAAYAAQAAAAAAAMAAAAYAAUAAAAAAAMAAAAYAAYAAAABAAUAAAAZAPz/AAAAAAMAAAAZAP3/AAAAAAMAAAAZAP7/AAAAAAMAAAAZAP//AAAAAAMAAAAZAAAAAAABAAUAAAAZAAEAAAAAAAMAAAAZAAIAAAAAAAMAAAAZAAMAAAAAAAMAAAAZAAQAAAAAAAMAAAAZAAUAAAAAAAMAAAAZAAYAAAABAAUAAAAaAPz/AAAAAAMAAAAaAP3/AAAAAAMAAAAaAP7/AAAAAAMAAAAaAP//AAAAAAMAAAAaAAAAAAACAAUAAAAaAAEAAAAAAAUAAAAaAAIAAAAAAAUAAAAaAAMAAAAAAAUAAAAaAAQAAAAAAAUAAAAaAAUAAAAAAAUAAAAaAAYAAAAFAAQAAAANAAcAAAAAAAMAAAAOAAcAAAAAAAMAAAAPAAcAAAAAAAMAAAAQAAcAAAAAAAMAAAARAAcAAAAAAAMAAAASAAcAAAAAAAMAAAATAAcAAAAAAAMAAAAUAAcAAAAAAAMAAAAVAAcAAAAAAAMAAAAWAAcAAAAAAAMAAAAXAAcAAAAAAAMAAAAYAAcAAAAAAAMAAAAZAAcAAAAAAAMAAAAaAAcAAAAAAAUAAAAOAAUAAAAAAAMAAAAPAAUAAAAAAAMAAAAQAAUAAAAAAAMAAAARAAUAAAAAAAMAAAASAAUAAAAAAAMAAAATAAUAAAAAAAMAAAANAAUAAAAAAAUAAAASAAIAAAAAAAMAAAASAAEAAAAAAAMAAAASAAAAAAAAAAMAAAASAAMAAAABAAUAAAA=")
tile_set = ExtResource("1_24d08")

[node name="Environment" type="TileMapLayer" parent="GridManager"]
y_sort_enabled = true
rotation = 0.0018889852
tile_map_data = PackedByteArray("AAALAAgAAAAAAAEAAAAbAPz/AAAAAAEAAAAbAP3/AAAAAAEAAAAbAP7/AAAAAAEAAAAbAP//AAAAAAEAAAAbAAAAAAAAAAEAAAAbAAEAAAAAAAEAAAAbAAIAAAAAAAEAAAAbAAMAAAAAAAEAAAAbAAQAAAAAAAEAAAAbAAUAAAAAAAEAAAAbAAYAAAAAAAEAAAAbAAcAAAAAAAEAAAAbAAgAAAAAAAEAAAAOAPf/AAAAAAEAAAAPAPf/AAAAAAEAAAAQAPf/AAAAAAEAAAARAPf/AAAAAAEAAAASAPf/AAAAAAEAAAATAPf/AAAAAAEAAAAUAPf/AAAAAAEAAAAVAPf/AAAAAAEAAAAWAPf/AAAAAAEAAAAXAPf/AAAAAAEAAAAYAPf/AAAAAAEAAAAZAPf/AAAAAAEAAAAaAPf/AAAAAAEAAAANAAgAAAAAAAEAAAAOAAgAAAAAAAEAAAAPAAgAAAAAAAEAAAAQAAgAAAAAAAEAAAARAAgAAAAAAAEAAAASAAgAAAAAAAEAAAATAAgAAAAAAAEAAAAUAAgAAAAAAAEAAAAVAAgAAAAAAAEAAAAWAAgAAAAAAAEAAAAXAAgAAAAAAAEAAAAKAPj/AAAAAAEAAAAKAPn/AAAAAAEAAAAKAPr/AAAAAAEAAAAKAPv/AAAAAAEAAAAKAPz/AAAAAAEAAAAKAP3/AAAAAAEAAAAKAP7/AAAAAAEAAAAKAP//AAAAAAEAAAAKAAAAAAAAAAEAAAAKAAEAAAAAAAEAAAAKAAIAAAAAAAEAAAAKAAMAAAAAAAEAAAAKAAQAAAAAAAEAAAAKAPf/AAAAAAEAAAAKAAgAAAAAAAEAAAAYAAgAAAAAAAcAAAAaAAgAAAAAAAcAAAANAPf/AAAAAAEAAAALAPf/AAAAAAEAAAAKAAUAAAAAAAEAAAAKAAcAAAAAAAEAAAAKAAYAAAAAAAEAAAAMAAgAAAAAAAEAAAAbAPf/AAAAAAEAAAAbAPj/AAAAAAEAAAAbAPn/AAAAAAEAAAAbAPr/AAAAAAEAAAAbAPv/AAAAAAEAAAAMAPf/AAAAAAEAAAAXAAAAAAADAAgAAAA=")
tile_set = ExtResource("1_24d08")

[node name="TrainPathVisualizer" type="Control" parent="."]
visible = false
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
script = ExtResource("7_c618l")
metadata/_edit_lock_ = true

[node name="Train" parent="." instance=ExtResource("4_mvcll")]

[node name="UIContainer" type="MarginContainer" parent="."]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
theme_override_constants/margin_left = 16
theme_override_constants/margin_top = 16
theme_override_constants/margin_right = 16
theme_override_constants/margin_bottom = 16
metadata/_edit_lock_ = true

[node name="BrakeInfoLabel" type="RichTextLabel" parent="UIContainer"]
layout_mode = 2
size_flags_horizontal = 0
size_flags_vertical = 0
theme = ExtResource("6_5npxh")
bbcode_enabled = true
text = "press [color=LIGHT_PINK][spacebar][/color] to brake/unbrake"
fit_content = true
scroll_active = false
autowrap_mode = 0

[node name="VBoxContainer" type="VBoxContainer" parent="UIContainer"]
layout_mode = 2
size_flags_horizontal = 8
size_flags_vertical = 0

[node name="CargoProgressLabel" type="RichTextLabel" parent="UIContainer/VBoxContainer"]
layout_mode = 2
theme = ExtResource("6_5npxh")
bbcode_enabled = true
text = "cargo delivered: 0/100"
fit_content = true
scroll_active = false
autowrap_mode = 0

[node name="TimeRemainingLabel" type="RichTextLabel" parent="UIContainer/VBoxContainer"]
layout_mode = 2
theme = ExtResource("6_5npxh")
bbcode_enabled = true
text = "time remaining: 120"
fit_content = true
scroll_active = false
autowrap_mode = 0
horizontal_alignment = 2

[node name="Compass" type="Sprite2D" parent="."]
position = Vector2(83, 297)
scale = Vector2(1.5, 1.5)
texture = ExtResource("7_0x7h0")

[node name="Platforms" type="Node2D" parent="."]
y_sort_enabled = true

[node name="Platform" parent="Platforms" instance=ExtResource("8_3wcpb")]
position = Vector2(304, 233)
Location = Vector2i(23, 5)
TrainTargetLocation = Vector2i(23, 6)

[node name="Platform2" parent="Platforms" instance=ExtResource("8_3wcpb")]
position = Vector2(256, 161)
CargoType = 1
Location = Vector2i(17, 2)
TrainTargetLocation = Vector2i(15, 3)

[node name="Platform3" parent="Platforms" instance=ExtResource("8_3wcpb")]
position = Vector2(400, 137)
CargoType = 3
Location = Vector2i(20, -4)
TrainTargetLocation = Vector2i(18, -5)
